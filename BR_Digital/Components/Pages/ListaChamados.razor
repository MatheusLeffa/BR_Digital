@page "/lista-chamados"
@rendermode InteractiveServer

<PageTitle>Lista de chamados</PageTitle>

<table class="table table-striped-columns">
    <thead>
        <tr>
            <th>chamado</th>
            <th>cliente</th>
            <th>trecho</th>
            <th>status</th>
            <th>tipo/aplic</th>
            <th>abertura</th>
            <th>interação</th>
            <th>opções</th>
        </tr>
    </thead>
    <tbody>
        @foreach (Chamado chamado in ListaChamado)
        {
            <tr>
                <td>@chamado.Id</td>
                <td>@chamado.Cliente</td>
                <td>@chamado.Trecho</td>
                <td>@chamado.Status</td>
                <td>@chamado.Tipo</td>
                <td>@chamado.Abertura</td>
                <td>@chamado.Interacao</td>
                <td><button type="button" class="btn btn-danger btn-sm"><i class="bi bi-trash3"></i></button></td>
            </tr>
        }
    </tbody>
</table>

@code {
    public List<Chamado> ListaChamado { get; set; } = new();

    protected override void OnInitialized()
    {
        PopularListaChamado();
    }

    private void PopularListaChamado()
    {
        Chamado chamado1 = new Chamado(new Cliente("VIVO"), "este / aquele", TipoChamado.Backbone_Tx, StatusChamado.StatusTeste, new DateTime(2025, 04, 10));
        Chamado chamado2 = new Chamado(new Cliente("VIVO"), "este / aquele", TipoChamado.Backbone_Tx, StatusChamado.StatusTeste2, new DateTime(2025, 04, 15));
        Chamado chamado3 = new Chamado(new Cliente("TIM"), "este / aquele", TipoChamado.Backbone_Rx, StatusChamado.StatusTeste);

        ListaChamado.Add(chamado1);
        ListaChamado.Add(chamado2);
        ListaChamado.Add(chamado3);
    }
}